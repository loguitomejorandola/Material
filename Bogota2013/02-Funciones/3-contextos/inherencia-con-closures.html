<html>
<head>
	<script type="text/javascript">
		var Restaurant = function(config){
			config = config || {};

			var self = {};
			self.direccion = config.direccion || '';
			self.menu      = config.menu      || [];
			self.comer     = function(){
				return 'mmmm...';
			}

			self.getMenu   = function() {
				return this.menu;
			};

			return self;
		}

		var Pizzeria = function	(config){
			config = config || {};

			var Pizza = function(sabor){
				var self = {};

				self.isPizza = true;
				self.sabor   = sabor || '4 quesos';

				return self;
			}
			
			var pizzasVendidas = 0;

			var self = Restaurant(config);

			self.pizzas    = config.pizzas    || [];
			
			self.getPizzas = function() {
				return this.pizzas;
			};	

			self.venderPizza = function(sabor){
				pizzasVendidas++;

				return Pizza(sabor);
			}

			self.getPizzasVendidas = function(){
				return pizzasVendidas;
			}

			return self;	
		}

		var ilDiabolo = Pizzeria({
			direccion : 'Lopez Cotilla 1904',
			menu      : ['pizza', 'lasana'],
			pizzas    : ['bianca','4 quesos']
		});

		console.log( ilDiabolo );
		console.log( ilDiabolo.venderPizza() );
		console.log( ilDiabolo.getPizzasVendidas() );
		console.log( ilDiabolo.venderPizza('bianca') );
		console.log( ilDiabolo.getPizzasVendidas() );
	</script>
	<script type="text/javascript">
		window.addEventListener( "load", function(){
			var code = document.createElement('pre');
			code.innerHTML = document.scripts[0].innerText;
			document.body.appendChild(code);
		});
	</script>
</head>
<body>

</body>
</html>